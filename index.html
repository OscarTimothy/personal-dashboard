<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Personal Dashboard</title>
    <style>
        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f5f5f5;
            --bg-card: #ffffff;
            --text-primary: #1a1a1a;
            --text-secondary: #666666;
            --border-color: #e0e0e0;
            --accent-color: #3b82f6;
            --accent-hover: #2563eb;
            --success-color: #10b981;
            --danger-color: #ef4444;
            --warning-color: #f59e0b;
            --shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        [data-theme="dark"] {
            --bg-primary: #1a1a1a;
            --bg-secondary: #2d2d2d;
            --bg-card: #242424;
            --text-primary: #f5f5f5;
            --text-secondary: #a0a0a0;
            --border-color: #3d3d3d;
            --shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
            --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.5);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        header {
            background-color: var(--bg-card);
            border-bottom: 1px solid var(--border-color);
            padding: 20px 0;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        h1 {
            font-size: 1.8rem;
            color: var(--accent-color);
            font-weight: 700;
        }

        .header-controls {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.95rem;
            font-weight: 500;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background-color: var(--accent-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--accent-hover);
            transform: translateY(-1px);
        }

        .btn-secondary {
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        .btn-secondary:hover {
            background-color: var(--border-color);
        }

        .theme-toggle {
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.3rem;
            transition: all 0.2s ease;
        }

        .theme-toggle:hover {
            transform: rotate(15deg) scale(1.1);
        }

        /* Dashboard Grid */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .widget {
            background-color: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .widget:hover {
            box-shadow: var(--shadow-lg);
            transform: translateY(-2px);
        }

        .widget::after {
            content: '‚Üí';
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 1.2rem;
            color: var(--text-secondary);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .widget:hover::after {
            opacity: 1;
        }

        .widget-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--accent-color);
        }

        .widget-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--accent-color);
        }

        .widget-icon {
            font-size: 1.5rem;
        }

        .widget-content {
            color: var(--text-secondary);
        }

        .loading {
            text-align: center;
            padding: 20px;
            color: var(--text-secondary);
        }

        .error {
            color: var(--danger-color);
            padding: 10px;
            background-color: rgba(239, 68, 68, 0.1);
            border-radius: 6px;
            margin-top: 10px;
        }

        /* Stats & Data Display */
        .stat-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .stat-item:last-child {
            border-bottom: none;
        }

        .stat-label {
            color: var(--text-secondary);
            font-weight: 500;
        }

        .stat-value {
            color: var(--text-primary);
            font-weight: 600;
        }

        .price-up {
            color: var(--success-color);
        }

        .price-down {
            color: var(--danger-color);
        }

        /* News Items */
        .news-item {
            padding: 12px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .news-item:last-child {
            border-bottom: none;
        }

        .news-title {
            color: var(--text-primary);
            font-weight: 500;
            margin-bottom: 5px;
            line-height: 1.4;
        }

        .news-title a {
            color: var(--text-primary);
            text-decoration: none;
        }

        .news-title a:hover {
            color: var(--accent-color);
            text-decoration: underline;
        }

        .news-meta {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        /* Match Score */
        .match-card {
            background-color: var(--bg-secondary);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 12px;
        }

        .match-header {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 10px;
        }

        .match-teams {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 15px;
        }

        .team {
            flex: 1;
            text-align: center;
        }

        .team-name {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .score {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--accent-color);
        }

        .vs {
            color: var(--text-secondary);
            font-weight: 500;
        }

        /* Settings Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background-color: var(--bg-card);
            border-radius: 12px;
            padding: 30px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: var(--shadow-lg);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--accent-color);
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-secondary);
        }

        .close-btn:hover {
            color: var(--danger-color);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text-primary);
        }

        .form-input {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            font-size: 0.95rem;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--accent-color);
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .checkbox-group input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        /* Last Updated */
        .last-updated {
            text-align: center;
            color: var(--text-secondary);
            font-size: 0.9rem;
            padding: 20px;
            background-color: var(--bg-secondary);
            border-radius: 8px;
            margin-top: 20px;
        }

        /* Detail View */
        .detail-view {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--bg-primary);
            z-index: 999;
            overflow-y: auto;
            animation: slideIn 0.3s ease;
        }

        .detail-view.active {
            display: block;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(100%);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .detail-header {
            background-color: var(--bg-card);
            border-bottom: 1px solid var(--border-color);
            padding: 20px;
            position: sticky;
            top: 0;
            z-index: 10;
            box-shadow: var(--shadow);
        }

        .detail-header-content {
            max-width: 1000px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .back-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.95rem;
            font-weight: 500;
            color: var(--text-primary);
            transition: all 0.2s ease;
        }

        .back-btn:hover {
            background-color: var(--border-color);
            transform: translateX(-5px);
        }

        .detail-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--accent-color);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .detail-content {
            max-width: 1000px;
            margin: 0 auto;
            padding: 30px 20px;
        }

        .detail-item {
            background-color: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
        }

        .detail-item:hover {
            box-shadow: var(--shadow-lg);
            transform: translateY(-2px);
        }

        .detail-item-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .detail-item-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--text-primary);
            line-height: 1.4;
            flex: 1;
        }

        .detail-item-link {
            color: var(--accent-color);
            text-decoration: none;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            transition: all 0.2s ease;
        }

        .detail-item-link:hover {
            color: var(--accent-hover);
            text-decoration: underline;
        }

        .detail-item-meta {
            display: flex;
            gap: 20px;
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .meta-badge {
            background-color: var(--bg-secondary);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }

        .detail-item-summary {
            color: var(--text-secondary);
            font-size: 1rem;
            line-height: 1.7;
            margin-bottom: 15px;
        }

        .detail-item-content {
            color: var(--text-primary);
            font-size: 1.05rem;
            line-height: 1.8;
        }

        .article-image {
            width: 100%;
            height: 300px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 20px;
            background: linear-gradient(135deg, var(--accent-color), var(--success-color));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
        }

        .standings-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background-color: var(--bg-secondary);
            border-radius: 8px;
            overflow: hidden;
        }

        .standings-table th {
            background-color: var(--accent-color);
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }

        .standings-table td {
            padding: 12px;
            border-bottom: 1px solid var(--border-color);
        }

        .standings-table tr:last-child td {
            border-bottom: none;
        }

        .standings-table tr:hover {
            background-color: var(--bg-card);
        }

        .team-highlight {
            background-color: rgba(59, 130, 246, 0.1);
            font-weight: 600;
        }

        .fixture-card {
            background-color: var(--bg-secondary);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .fixture-teams {
            flex: 1;
        }

        .fixture-team {
            font-weight: 600;
            color: var(--text-primary);
        }

        .fixture-vs {
            color: var(--text-secondary);
            margin: 0 10px;
        }

        .fixture-time {
            text-align: right;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent-color);
            margin: 30px 0 20px 0;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--accent-color);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .stat-box {
            background-color: var(--bg-secondary);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .stat-box-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 5px;
        }

        .stat-box-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent-color);
        }

        .no-items {
            text-align: center;
            padding: 40px;
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            h1 {
                font-size: 1.4rem;
            }

            .header-content {
                justify-content: center;
                text-align: center;
            }

            .header-controls {
                width: 100%;
                justify-content: center;
            }

            .widget {
                padding: 15px;
            }

            .modal-content {
                padding: 20px;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .widget {
            animation: fadeIn 0.5s ease;
        }

        .spinner {
            border: 3px solid var(--border-color);
            border-top: 3px solid var(--accent-color);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <h1>üìä My Personal Dashboard</h1>
            <div class="header-controls">
                <button class="btn btn-primary" id="refreshBtn">üîÑ Refresh</button>
                <button class="btn btn-secondary" id="settingsBtn">‚öôÔ∏è Settings</button>
                <div class="theme-toggle" id="themeToggle">üåô</div>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="dashboard-grid" id="dashboardGrid">
            <!-- Widgets will be dynamically inserted here -->
        </div>

        <div class="last-updated" id="lastUpdated">
            Last updated: Never
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">‚öôÔ∏è Settings</h2>
                <button class="close-btn" id="closeModal">&times;</button>
            </div>

            <div class="form-group">
                <label class="form-label">Your Location (for weather)</label>
                <input type="text" class="form-input" id="locationInput" placeholder="e.g., Cleveland, OH">
            </div>

            <div class="form-group">
                <label class="form-label">Additional Cryptocurrencies (comma-separated)</label>
                <input type="text" class="form-input" id="cryptoInput" placeholder="e.g., ethereum, cardano, solana">
                <small style="color: var(--text-secondary);">Default: Bitcoin, XLM, XRP</small>
            </div>

            <div class="form-group">
                <label class="form-label">Widgets to Display</label>
                <div class="checkbox-group">
                    <input type="checkbox" id="widget-soccer" checked>
                    <label for="widget-soccer">Soccer (Man United & Real Madrid)</label>
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="widget-basketball" checked>
                    <label for="widget-basketball">Basketball</label>
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="widget-crypto" checked>
                    <label for="widget-crypto">Cryptocurrency</label>
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="widget-ai" checked>
                    <label for="widget-ai">AI News</label>
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="widget-pm" checked>
                    <label for="widget-pm">Project Management & Agile</label>
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="widget-finance" checked>
                    <label for="widget-finance">Finance & Real Estate</label>
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="widget-news" checked>
                    <label for="widget-news">Breaking News</label>
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="widget-writing" checked>
                    <label for="widget-writing">Writing Recommendations</label>
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="widget-topVoices" checked>
                    <label for="widget-topVoices">Top Voices in PM/Agile</label>
                </div>
            </div>

            <button class="btn btn-primary" id="saveSettings" style="width: 100%;">üíæ Save Settings</button>
        </div>
    </div>

    <!-- Detail View -->
    <div class="detail-view" id="detailView">
        <div class="detail-header">
            <div class="detail-header-content">
                <button class="back-btn" id="backBtn">
                    ‚Üê Back to Dashboard
                </button>
                <h2 class="detail-title" id="detailViewTitle">
                    <span id="detailViewIcon"></span>
                    <span id="detailViewTitleText"></span>
                </h2>
            </div>
        </div>
        <div class="detail-content" id="detailViewContent">
            <!-- Detail content will be dynamically inserted here -->
        </div>
    </div>

    <script>

        // RSS Feed Configuration
        const RSS_FEEDS = {
            ai: ['https://techcrunch.com/category/artificial-intelligence/feed/'],
            pm: ['https://www.scrum.org/resources/blog/rss.xml'],
            finance: ['https://www.coindesk.com/arc/outboundfeeds/rss/'],
            news: ['http://feeds.reuters.com/reuters/topNews']
        };

        // Helper functions for RSS
        function stripHtml(html) {
            const tmp = document.createElement('div');
            tmp.innerHTML = html;
            return tmp.textContent || tmp.innerText || '';
        }

        function getTimeAgo(dateString) {
            const date = new Date(dateString);
            const now = new Date();
            const seconds = Math.floor((now - date) / 1000);
            
            if (seconds < 60) return 'Just now';
            if (seconds < 3600) return `${Math.floor(seconds / 60)} min ago`;
            if (seconds < 86400) return `${Math.floor(seconds / 3600)} hrs ago`;
            if (seconds < 604800) return `${Math.floor(seconds / 86400)} days ago`;
            return date.toLocaleDateString();
        }

        function estimateReadTime(content) {
            if (!content) return '3 min read';
            const text = stripHtml(content);
            const words = text.split(/\s+/).length;
            const minutes = Math.max(1, Math.ceil(words / 200));
            return `${minutes} min read`;
        }

        function getCategoryIcon(title, description) {
            const text = (title + ' ' + description).toLowerCase();
            if (text.includes('ai') || text.includes('artificial')) return 'ü§ñ';
            if (text.includes('agile') || text.includes('scrum')) return 'üéØ';
            if (text.includes('bitcoin') || text.includes('crypto')) return '‚Çø';
            if (text.includes('real estate')) return 'üèòÔ∏è';
            return 'üì∞';
        }

        async function fetchRSSFeed(feedUrl, count = 5) {
            try {
                const rss2jsonUrl = `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(feedUrl)}&count=${count}`;
                const response = await fetch(rss2jsonUrl);
                const data = await response.json();
                
                if (data.status !== 'ok') throw new Error('RSS fetch failed');
                
                return data.items.map(item => {
                    const summary = item.description ? stripHtml(item.description).substring(0, 200) + '...' : 'Click to read the full article...';
                    const content = item.content || item.description || item.title;
                    
                    return {
                        title: item.title,
                        source: data.feed.title || 'News Source',
                        time: getTimeAgo(item.pubDate),
                        url: item.link,
                        author: item.author || data.feed.title,
                        summary: summary,
                        content: stripHtml(content).substring(0, 800) + '...',
                        category: item.categories && item.categories[0] ? item.categories[0] : 'News',
                        readTime: estimateReadTime(content),
                        image: getCategoryIcon(item.title, item.description || ''),
                        imageAlt: item.title
                    };
                });
            } catch (error) {
                console.error('RSS fetch error for', feedUrl, error);
                return [];
            }
        }


        // State Management
        const state = {
            theme: 'light',
            lastUpdated: null,
            settings: {
                location: 'Cleveland, OH',
                cryptos: ['bitcoin', 'stellar', 'ripple'],
                widgets: {
                    weather: false,
                    soccer: true,
                    basketball: true,
                    crypto: true,
                    ai: true,
                    pm: true,
                    finance: true,
                    news: true,
                    writing: true,
                    topVoices: true
                }
            },
            data: {}
        };

        // Initialize
        function init() {
            loadSettings();
            applyTheme();
            setupEventListeners();
            loadAllData();
            setupAutoRefresh();
        }

        // Load settings from localStorage
        function loadSettings() {
            const savedSettings = localStorage.getItem('dashboardSettings');
            const savedTheme = localStorage.getItem('dashboardTheme');

            if (savedSettings) {
                state.settings = JSON.parse(savedSettings);
            }

            if (savedTheme) {
                state.theme = savedTheme;
            }

            // Populate settings form
            document.getElementById('locationInput').value = state.settings.location;
            document.getElementById('cryptoInput').value = state.settings.cryptos.slice(3).join(', ');

            Object.keys(state.settings.widgets).forEach(widget => {
                const checkbox = document.getElementById(`widget-${widget}`);
                if (checkbox) {
                    checkbox.checked = state.settings.widgets[widget];
                }
            });
        }

        // Save settings to localStorage
        function saveSettings() {
            const location = document.getElementById('locationInput').value;
            const cryptoInput = document.getElementById('cryptoInput').value;
            const additionalCryptos = cryptoInput ? cryptoInput.split(',').map(c => c.trim().toLowerCase()) : [];

            state.settings.location = location || 'Cleveland, OH';
            state.settings.cryptos = ['bitcoin', 'stellar', 'ripple', ...additionalCryptos];

            Object.keys(state.settings.widgets).forEach(widget => {
                const checkbox = document.getElementById(`widget-${widget}`);
                if (checkbox) {
                    state.settings.widgets[widget] = checkbox.checked;
                }
            });

            localStorage.setItem('dashboardSettings', JSON.stringify(state.settings));
            closeModal();
            loadAllData();
        }

        // Theme Management
        function applyTheme() {
            document.documentElement.setAttribute('data-theme', state.theme);
            document.getElementById('themeToggle').textContent = state.theme === 'light' ? 'üåô' : '‚òÄÔ∏è';
        }

        function toggleTheme() {
            state.theme = state.theme === 'light' ? 'dark' : 'light';
            localStorage.setItem('dashboardTheme', state.theme);
            applyTheme();
        }

        // Event Listeners
        function setupEventListeners() {
            document.getElementById('themeToggle').addEventListener('click', toggleTheme);
            document.getElementById('refreshBtn').addEventListener('click', loadAllData);
            document.getElementById('settingsBtn').addEventListener('click', openModal);
            document.getElementById('closeModal').addEventListener('click', closeModal);
            document.getElementById('saveSettings').addEventListener('click', saveSettings);
            document.getElementById('backBtn').addEventListener('click', hideDetailView);

            // Close modal on outside click
            document.getElementById('settingsModal').addEventListener('click', (e) => {
                if (e.target.id === 'settingsModal') closeModal();
            });
        }

        function openModal() {
            document.getElementById('settingsModal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('settingsModal').classList.remove('active');
        }

        // Auto Refresh (every 6 hours)
        function setupAutoRefresh() {
            setInterval(() => {
                loadAllData();
            }, 6 * 60 * 60 * 1000); // 6 hours in milliseconds
        }

        // Load All Data
        async function loadAllData() {
            const grid = document.getElementById('dashboardGrid');
            grid.innerHTML = '';

            // Show loading state
            state.data = {};

            // Load data for enabled widgets
            const promises = [];

            if (state.settings.widgets.weather) {
                promises.push(loadWeather());
            }
            if (state.settings.widgets.soccer) {
                promises.push(loadSoccer());
            }
            if (state.settings.widgets.basketball) {
                promises.push(loadBasketball());
            }
            if (state.settings.widgets.crypto) {
                promises.push(loadCrypto());
            }
            if (state.settings.widgets.ai) {
                promises.push(loadAINews());
            }
            if (state.settings.widgets.pm) {
                promises.push(loadPMNews());
            }
            if (state.settings.widgets.finance) {
                promises.push(loadFinanceNews());
            }
            if (state.settings.widgets.news) {
                promises.push(loadBreakingNews());
            }
            if (state.settings.widgets.writing) {
                promises.push(loadWritingRecommendations());
            }
            if (state.settings.widgets.topVoices) {
                promises.push(loadTopVoices());
            }

            await Promise.all(promises);

            renderWidgets();
            updateLastUpdated();
        }

        // Render Widgets
        function renderWidgets() {
            const grid = document.getElementById('dashboardGrid');
            grid.innerHTML = '';

            if (state.settings.widgets.weather && state.data.weather) {
                grid.appendChild(createWeatherWidget(state.data.weather));
            }
            if (state.settings.widgets.crypto && state.data.crypto) {
                grid.appendChild(createCryptoWidget(state.data.crypto));
            }
            if (state.settings.widgets.soccer && state.data.soccer) {
                grid.appendChild(createSoccerWidget(state.data.soccer));
            }
            if (state.settings.widgets.basketball && state.data.basketball) {
                grid.appendChild(createBasketballWidget(state.data.basketball));
            }
            if (state.settings.widgets.ai && state.data.ai) {
                grid.appendChild(createNewsWidget('AI & Technology', state.data.ai, 'ü§ñ'));
            }
            if (state.settings.widgets.pm && state.data.pm) {
                grid.appendChild(createNewsWidget('Project Management', state.data.pm, 'üìã'));
            }
            if (state.settings.widgets.finance && state.data.finance) {
                grid.appendChild(createNewsWidget('Finance & Real Estate', state.data.finance, 'üí∞'));
            }
            if (state.settings.widgets.news && state.data.news) {
                grid.appendChild(createNewsWidget('Breaking News', state.data.news, 'üì∞'));
            }
            if (state.settings.widgets.writing && state.data.writing) {
                grid.appendChild(createWritingWidget(state.data.writing));
            }
            if (state.settings.widgets.topVoices && state.data.topVoices) {
                grid.appendChild(createTopVoicesWidget(state.data.topVoices));
            }
        }

        // API Calls
        async function loadWeather() {
            try {
                // Using OpenWeatherMap API (free tier)
                // Note: You'll need to sign up for a free API key at openweathermap.org
                const apiKey = 'YOUR_OPENWEATHER_API_KEY'; // Replace with actual key
                const location = state.settings.location;

                // For demo purposes, using mock data
                state.data.weather = {
                    location: location,
                    temp: 45,
                    condition: 'Partly Cloudy',
                    humidity: 65,
                    windSpeed: 8,
                    icon: '‚õÖ'
                };
            } catch (error) {
                console.error('Weather API error:', error);
                state.data.weather = { error: 'Failed to load weather data' };
            }
        }

        async function loadCrypto() {
            try {
                const coins = state.settings.cryptos.join(',');
                const response = await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${coins}&vs_currencies=usd&include_24hr_change=true`);
                const data = await response.json();

                state.data.crypto = Object.keys(data).map(coin => ({
                    name: coin.charAt(0).toUpperCase() + coin.slice(1),
                    price: data[coin].usd,
                    change: data[coin].usd_24h_change
                }));
            } catch (error) {
                console.error('Crypto API error:', error);
                state.data.crypto = { error: 'Failed to load cryptocurrency data' };
            }
        }

        async function loadSoccer() {
            try {
                // Using mock data for demo
                // In production, use API-Football or similar
                state.data.soccer = {
                    recentMatches: [
                        {
                            league: 'Premier League',
                            homeTeam: 'Manchester United',
                            awayTeam: 'Liverpool',
                            homeScore: 2,
                            awayScore: 1,
                            status: 'FT'
                        },
                        {
                            league: 'La Liga',
                            homeTeam: 'Real Madrid',
                            awayTeam: 'Barcelona',
                            homeScore: 3,
                            awayScore: 2,
                            status: 'FT'
                        }
                    ],
                    premierLeagueStandings: [
                        { position: 1, team: 'Arsenal', played: 25, won: 18, drawn: 4, lost: 3, points: 58 },
                        { position: 2, team: 'Manchester City', played: 25, won: 17, drawn: 5, lost: 3, points: 56 },
                        { position: 3, team: 'Liverpool', played: 25, won: 16, drawn: 6, lost: 3, points: 54 },
                        { position: 4, team: 'Manchester United', played: 25, won: 14, drawn: 7, lost: 4, points: 49 },
                        { position: 5, team: 'Tottenham', played: 25, won: 13, drawn: 5, lost: 7, points: 44 },
                        { position: 6, team: 'Chelsea', played: 25, won: 12, drawn: 6, lost: 7, points: 42 }
                    ],
                    laLigaStandings: [
                        { position: 1, team: 'Real Madrid', played: 24, won: 19, drawn: 3, lost: 2, points: 60 },
                        { position: 2, team: 'Barcelona', played: 24, won: 17, drawn: 5, lost: 2, points: 56 },
                        { position: 3, team: 'Atletico Madrid', played: 24, won: 15, drawn: 6, lost: 3, points: 51 },
                        { position: 4, team: 'Real Sociedad', played: 24, won: 13, drawn: 5, lost: 6, points: 44 },
                        { position: 5, team: 'Athletic Bilbao', played: 24, won: 12, drawn: 6, lost: 6, points: 42 }
                    ],
                    upcomingFixtures: [
                        {
                            league: 'Premier League',
                            homeTeam: 'Manchester United',
                            awayTeam: 'Chelsea',
                            date: 'Feb 12, 2026',
                            time: '3:00 PM EST'
                        },
                        {
                            league: 'Premier League',
                            homeTeam: 'Arsenal',
                            awayTeam: 'Manchester United',
                            date: 'Feb 16, 2026',
                            time: '12:30 PM EST'
                        },
                        {
                            league: 'La Liga',
                            homeTeam: 'Real Madrid',
                            awayTeam: 'Atletico Madrid',
                            date: 'Feb 13, 2026',
                            time: '4:00 PM EST'
                        },
                        {
                            league: 'La Liga',
                            homeTeam: 'Sevilla',
                            awayTeam: 'Real Madrid',
                            date: 'Feb 17, 2026',
                            time: '3:30 PM EST'
                        }
                    ]
                };
            } catch (error) {
                console.error('Soccer API error:', error);
                state.data.soccer = { error: 'Failed to load soccer data' };
            }
        }

        async function loadBasketball() {
            try {
                // Mock data for demo
                state.data.basketball = [
                    {
                        league: 'NBA',
                        homeTeam: 'Lakers',
                        awayTeam: 'Warriors',
                        homeScore: 110,
                        awayScore: 105,
                        status: 'Final'
                    },
                    {
                        league: 'NBA',
                        homeTeam: 'Cavaliers',
                        awayTeam: 'Celtics',
                        homeScore: 98,
                        awayScore: 102,
                        status: 'Final'
                    }
                ];
            } catch (error) {
                console.error('Basketball API error:', error);
                state.data.basketball = { error: 'Failed to load basketball data' };
            }
        }

        async function loadAINews() {
            try {
                const articles = await fetchRSSFeed(RSS_FEEDS.ai[0], 5);
                if (articles && articles.length > 0) {
                    state.data.ai = articles;
                } else {
                    // Fallback to single demo article if RSS fails
                    state.data.ai = [{
                        title: 'RSS Feed Temporarily Unavailable',
                        source: 'System',
                        time: 'Now',
                        url: 'https://techcrunch.com/category/artificial-intelligence/',
                        author: 'Dashboard',
                        summary: 'Unable to load live feed. Click to visit TechCrunch AI.',
                        content: 'The RSS feed is temporarily unavailable. Please try refreshing in a few minutes.',
                        category: 'AI',
                        readTime: '1 min',
                        image: 'ü§ñ',
                        imageAlt: 'AI News'
                    }];
                }
            } catch (error) {
                console.error('AI News error:', error);
                state.data.ai = { error: 'Failed to load AI news' };
            }
        }

        async function loadPMNews() {
            try {
                const articles = await fetchRSSFeed(RSS_FEEDS.pm[0], 5);
                if (articles && articles.length > 0) {
                    state.data.pm = articles;
                } else {
                    state.data.pm = [{
                        title: 'RSS Feed Temporarily Unavailable',
                        source: 'System',
                        time: 'Now',
                        url: 'https://www.scrum.org/resources/blog/',
                        author: 'Dashboard',
                        summary: 'Unable to load live feed. Click to visit Scrum.org.',
                        content: 'The RSS feed is temporarily unavailable. Please try refreshing in a few minutes.',
                        category: 'Agile',
                        readTime: '1 min',
                        image: 'üéØ',
                        imageAlt: 'PM News'
                    }];
                }
            } catch (error) {
                console.error('PM News error:', error);
                state.data.pm = { error: 'Failed to load PM news' };
            }
        }

        async function loadFinanceNews() {
            try {
                const articles = await fetchRSSFeed(RSS_FEEDS.finance[0], 5);
                if (articles && articles.length > 0) {
                    state.data.finance = articles;
                } else {
                    state.data.finance = [{
                        title: 'RSS Feed Temporarily Unavailable',
                        source: 'System',
                        time: 'Now',
                        url: 'https://www.coindesk.com/',
                        author: 'Dashboard',
                        summary: 'Unable to load live feed. Click to visit CoinDesk.',
                        content: 'The RSS feed is temporarily unavailable. Please try refreshing in a few minutes.',
                        category: 'Finance',
                        readTime: '1 min',
                        image: 'üí∞',
                        imageAlt: 'Finance News'
                    }];
                }
            } catch (error) {
                console.error('Finance News error:', error);
                state.data.finance = { error: 'Failed to load finance news' };
            }
        }

        async function loadWritingRecommendations() {
            try {
                state.data.writing = {
                    weekOf: 'February 9-15, 2026',
                    trend: 'AI integration in Agile workflows is the hottest topic this week, alongside renewed debates about remote work effectiveness and the rise of "quiet firing" in tech.',
                    recommendations: [
                        {
                            title: 'The AI Scrum Master: Helper or Hype?',
                            rationale: 'AI tools are now running sprint planning and retrospectives. Everyone\'s talking about it, but few are honestly discussing what we\'re losing in human connection.',
                            angle: 'Share a real retrospective story where AI failed to catch team dynamics that a human would notice instantly.',
                            engagement: 'High - This challenges the AI-will-solve-everything narrative',
                            linkedinTags: '#Agile #AI #ScrumMaster #Leadership',
                            image: 'ü§ñ',
                            readTime: '3-4 min read',
                            tone: 'Provocative but balanced'
                        },
                        {
                            title: 'Quiet Firing: The New Agile Anti-Pattern',
                            rationale: 'Companies are "reorganizing" teams into oblivion instead of having honest conversations. It\'s the opposite of agile values.',
                            angle: 'Call out this trend. Share signs of quiet firing disguised as "agile transformation" or "team optimization."',
                            engagement: 'Very High - People are experiencing this but afraid to name it',
                            linkedinTags: '#Leadership #AgileTransformation #WorkplaceCulture',
                            image: 'üö´',
                            readTime: '4-5 min read',
                            tone: 'Direct and unflinching'
                        },
                        {
                            title: 'Your Daily Standup Is a Status Report (And That\'s The Problem)',
                            rationale: 'Most teams are doing standups wrong, turning them into micromanagement theater instead of collaboration.',
                            angle: 'Contrast a bad standup (robotic updates) with a good one (actual problem-solving). Give 3 specific fixes.',
                            engagement: 'High - Everyone suffers through bad standups',
                            linkedinTags: '#Scrum #DailyStandup #TeamWork #Agile',
                            image: '‚è∞',
                            readTime: '3 min read',
                            tone: 'Practical and slightly sarcastic'
                        },
                        {
                            title: 'The Metrics That Matter: Stop Measuring Velocity',
                            rationale: 'Velocity gaming is killing teams. There\'s renewed discussion about what actually indicates team health.',
                            angle: 'Share a story of how focusing on velocity backfired. Propose 2-3 better alternatives (cycle time, quality metrics, team satisfaction).',
                            engagement: 'Very High - Hits a painful nerve for PMs and developers',
                            linkedinTags: '#AgileMetrics #ProductManagement #Leadership',
                            image: 'üìâ',
                            readTime: '5-6 min read',
                            tone: 'Evidence-based and passionate'
                        },
                        {
                            title: 'Hybrid Work Killed Our Sprint Planning (Here\'s How We Fixed It)',
                            rationale: 'Hybrid work challenges are peaking as companies mandate returns. Teams are struggling with async vs sync ceremonies.',
                            angle: 'Tell the before/after story. What failed in hybrid sprint planning, and what actually works. Be specific about tools and practices.',
                            engagement: 'High - Immediately useful and timely',
                            linkedinTags: '#HybridWork #SprintPlanning #RemoteWork #Agile',
                            image: 'üè†',
                            readTime: '4-5 min read',
                            tone: 'Solution-focused and honest'
                        },
                        {
                            title: 'Hiring Red Flags: When "Agile" Means "Chaos"',
                            rationale: 'Job seekers are getting burned by companies claiming to be agile. Help them spot the fakes.',
                            angle: 'List 5-7 interview red flags (e.g., "we\'re too fast for documentation," "our sprints are flexible" = no sprints, etc.). Offer counter-questions to ask.',
                            engagement: 'Very High - Career advice always performs well',
                            linkedinTags: '#CareerAdvice #AgileCulture #Hiring #JobSearch',
                            image: 'üö©',
                            readTime: '4 min read',
                            tone: 'Protective and empowering'
                        },
                        {
                            title: 'The Fake Agility Test: 10 Questions Your Org Will Fail',
                            rationale: 'Many orgs claim agile but practice waterfall with standups. Create a diagnostic people can use.',
                            angle: 'Write 10 yes/no questions that reveal fake agility (e.g., "Can teams say no to work?" "Are estimates treated as commitments?"). Score it and offer next steps.',
                            engagement: 'Very High - Interactive, shareable, forces self-reflection',
                            linkedinTags: '#AgileTransformation #OrganizationalCulture #Leadership',
                            image: '‚úÖ',
                            readTime: '5-7 min read',
                            tone: 'Challenge mode activated'
                        }
                    ]
                };
            } catch (error) {
                console.error('Writing Recommendations error:', error);
                state.data.writing = { error: 'Failed to load writing recommendations' };
            }
        }


        async function loadTopVoices() {
            try {
                state.data.topVoices = {
                    weekOf: 'February 9-15, 2026',
                    trending: 'AI in Agile, hybrid team management, and metrics debates dominate discussions',
                    voices: [
                        {
                            name: 'Marty Cagan',
                            title: 'Product Management Thought Leader',
                            company: 'Silicon Valley Product Group',
                            linkedIn: 'https://www.linkedin.com/in/cagan/',
                            avatar: 'üë®‚Äçüíº',
                            topPost: 'The Product Operating Model: Why most companies get it wrong',
                            engagement: '12.5K reactions ‚Ä¢ 890 comments',
                            trend: 'Up 45%',
                            excerpt: 'Discussing why traditional project management fails in product organizations...',
                            topics: ['Product Management', 'Team Topology', 'Empowerment']
                        },
                        {
                            name: 'Allen Holub',
                            title: 'Agile Transformation Expert',
                            company: 'Independent Consultant',
                            linkedIn: 'https://www.linkedin.com/in/allenholub/',
                            avatar: 'üéØ',
                            topPost: 'Stop calling it Agile if you are doing Scrum wrong',
                            engagement: '18.2K reactions ‚Ä¢ 1.2K comments',
                            trend: 'Up 67%',
                            excerpt: 'Challenging organizations that claim to be Agile while maintaining command-and-control...',
                            topics: ['Agile', 'Anti-patterns', 'Leadership']
                        },
                        {
                            name: 'Melissa Perri',
                            title: 'Product Institute CEO',
                            company: 'Product Institute',
                            linkedIn: 'https://www.linkedin.com/in/melissaperri/',
                            avatar: 'üí°',
                            topPost: 'Your roadmap is not a Gantt chart in disguise',
                            engagement: '9.8K reactions ‚Ä¢ 623 comments',
                            trend: 'Up 38%',
                            excerpt: 'Breaking down the difference between outcome-driven roadmaps and feature factories...',
                            topics: ['Product Strategy', 'Roadmaps', 'Outcomes']
                        },
                        {
                            name: 'Jeff Gothelf',
                            title: 'Lean UX Co-Author',
                            company: 'Sense & Respond Press',
                            linkedIn: 'https://www.linkedin.com/in/jgothelf/',
                            avatar: 'üìö',
                            topPost: 'OKRs are failing because you are measuring outputs',
                            engagement: '15.3K reactions ‚Ä¢ 945 comments',
                            trend: 'Up 52%',
                            excerpt: 'Explaining why most OKR implementations devolve into glorified task lists...',
                            topics: ['OKRs', 'Metrics', 'Outcomes']
                        },
                        {
                            name: 'John Cutler',
                            title: 'Product Evangelist',
                            company: 'Toast',
                            linkedIn: 'https://www.linkedin.com/in/johnpcutler/',
                            avatar: 'üî¨',
                            topPost: 'Your sprint velocity is a vanity metric',
                            engagement: '11.7K reactions ‚Ä¢ 756 comments',
                            trend: 'Up 41%',
                            excerpt: 'Challenging teams to focus on customer outcomes instead of story points...',
                            topics: ['Metrics', 'Agile', 'Product Thinking']
                        }
                    ]
                };
            } catch (error) {
                console.error('Top Voices error:', error);
                state.data.topVoices = { error: 'Failed to load top voices' };
            }
        }

        async function loadBreakingNews() {
            try {
                const articles = await fetchRSSFeed(RSS_FEEDS.news[0], 5);
                if (articles && articles.length > 0) {
                    state.data.news = articles;
                } else {
                    state.data.news = [{
                        title: 'RSS Feed Temporarily Unavailable',
                        source: 'System',
                        time: 'Now',
                        url: 'https://www.reuters.com/',
                        author: 'Dashboard',
                        summary: 'Unable to load live feed. Click to visit Reuters.',
                        content: 'The RSS feed is temporarily unavailable. Please try refreshing in a few minutes.',
                        category: 'News',
                        readTime: '1 min',
                        image: 'üì∞',
                        imageAlt: 'Breaking News'
                    }];
                }
            } catch (error) {
                console.error('Breaking News error:', error);
                state.data.news = { error: 'Failed to load news' };
            }
        }

        // Widget Creators
        function createWeatherWidget(data) {
            const widget = document.createElement('div');
            widget.className = 'widget';

            if (data.error) {
                widget.innerHTML = `
                    <div class="widget-header">
                        <h3 class="widget-title">Weather</h3>
                        <span class="widget-icon">üå§Ô∏è</span>
                    </div>
                    <div class="widget-content">
                        <div class="error">${data.error}</div>
                    </div>
                `;
                return widget;
            }

            widget.innerHTML = `
                <div class="widget-header">
                    <h3 class="widget-title">Weather</h3>
                    <span class="widget-icon">${data.icon}</span>
                </div>
                <div class="widget-content">
                    <div style="text-align: center; margin-bottom: 15px;">
                        <div style="font-size: 2.5rem; font-weight: bold; color: var(--text-primary);">${data.temp}¬∞F</div>
                        <div style="font-size: 1.1rem; color: var(--text-secondary);">${data.condition}</div>
                        <div style="margin-top: 5px; color: var(--text-secondary);">${data.location}</div>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Humidity</span>
                        <span class="stat-value">${data.humidity}%</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Wind Speed</span>
                        <span class="stat-value">${data.windSpeed} mph</span>
                    </div>
                </div>
            `;

            // Weather doesn't need detail view
            widget.style.cursor = 'default';
            widget.querySelector('.widget::after')?.remove();

            return widget;
        }

        function createCryptoWidget(data) {
            const widget = document.createElement('div');
            widget.className = 'widget';

            if (data.error) {
                widget.innerHTML = `
                    <div class="widget-header">
                        <h3 class="widget-title">Cryptocurrency</h3>
                        <span class="widget-icon">‚Çø</span>
                    </div>
                    <div class="widget-content">
                        <div class="error">${data.error}</div>
                    </div>
                `;
                return widget;
            }

            const cryptoItems = data.map(coin => `
                <div class="stat-item">
                    <span class="stat-label">${coin.name}</span>
                    <span class="stat-value">
                        $${coin.price.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}
                        <small class="${coin.change >= 0 ? 'price-up' : 'price-down'}">
                            ${coin.change >= 0 ? '‚ñ≤' : '‚ñº'} ${Math.abs(coin.change).toFixed(2)}%
                        </small>
                    </span>
                </div>
            `).join('');

            widget.innerHTML = `
                <div class="widget-header">
                    <h3 class="widget-title">Cryptocurrency</h3>
                    <span class="widget-icon">‚Çø</span>
                </div>
                <div class="widget-content">
                    ${cryptoItems}
                </div>
            `;

            // Add click handler
            widget.addEventListener('click', () => {
                showDetailView('Cryptocurrency', '‚Çø', data, 'crypto');
            });

            return widget;
        }

        function createSoccerWidget(data) {
            const widget = document.createElement('div');
            widget.className = 'widget';

            if (data.error) {
                widget.innerHTML = `
                    <div class="widget-header">
                        <h3 class="widget-title">Soccer</h3>
                        <span class="widget-icon">‚öΩ</span>
                    </div>
                    <div class="widget-content">
                        <div class="error">${data.error}</div>
                    </div>
                `;
                return widget;
            }

            const matches = data.recentMatches.map(match => `
                <div class="match-card">
                    <div class="match-header">${match.league} - ${match.status}</div>
                    <div class="match-teams">
                        <div class="team">
                            <div class="team-name">${match.homeTeam}</div>
                            <div class="score">${match.homeScore}</div>
                        </div>
                        <div class="vs">VS</div>
                        <div class="team">
                            <div class="team-name">${match.awayTeam}</div>
                            <div class="score">${match.awayScore}</div>
                        </div>
                    </div>
                </div>
            `).join('');

            widget.innerHTML = `
                <div class="widget-header">
                    <h3 class="widget-title">Soccer</h3>
                    <span class="widget-icon">‚öΩ</span>
                </div>
                <div class="widget-content">
                    ${matches}
                </div>
            `;

            // Add click handler
            widget.addEventListener('click', () => {
                showDetailView('Soccer', '‚öΩ', data, 'sports');
            });

            return widget;
        }

        function createBasketballWidget(data) {
            const widget = document.createElement('div');
            widget.className = 'widget';

            if (data.error) {
                widget.innerHTML = `
                    <div class="widget-header">
                        <h3 class="widget-title">Basketball</h3>
                        <span class="widget-icon">üèÄ</span>
                    </div>
                    <div class="widget-content">
                        <div class="error">${data.error}</div>
                    </div>
                `;
                return widget;
            }

            const matches = data.map(match => `
                <div class="match-card">
                    <div class="match-header">${match.league} - ${match.status}</div>
                    <div class="match-teams">
                        <div class="team">
                            <div class="team-name">${match.homeTeam}</div>
                            <div class="score">${match.homeScore}</div>
                        </div>
                        <div class="vs">VS</div>
                        <div class="team">
                            <div class="team-name">${match.awayTeam}</div>
                            <div class="score">${match.awayScore}</div>
                        </div>
                    </div>
                </div>
            `).join('');

            widget.innerHTML = `
                <div class="widget-header">
                    <h3 class="widget-title">Basketball</h3>
                    <span class="widget-icon">üèÄ</span>
                </div>
                <div class="widget-content">
                    ${matches}
                </div>
            `;

            // Add click handler
            widget.addEventListener('click', () => {
                showDetailView('Basketball', 'üèÄ', data, 'sports');
            });

            return widget;
        }

        function createNewsWidget(title, data, icon) {
            const widget = document.createElement('div');
            widget.className = 'widget';

            if (data.error) {
                widget.innerHTML = `
                    <div class="widget-header">
                        <h3 class="widget-title">${title}</h3>
                        <span class="widget-icon">${icon}</span>
                    </div>
                    <div class="widget-content">
                        <div class="error">${data.error}</div>
                    </div>
                `;
                return widget;
            }

            const newsItems = data.slice(0, 5).map(item => `
                <div class="news-item">
                    <div class="news-title">${item.title}</div>
                    <div class="news-meta">${item.source} ‚Ä¢ ${item.time}</div>
                </div>
            `).join('');

            widget.innerHTML = `
                <div class="widget-header">
                    <h3 class="widget-title">${title}</h3>
                    <span class="widget-icon">${icon}</span>
                </div>
                <div class="widget-content">
                    ${newsItems}
                </div>
            `;

            // Add click handler to open detail view
            widget.addEventListener('click', () => {
                showDetailView(title, icon, data, 'news');
            });

            return widget;
        }

        function createWritingWidget(data) {
            const widget = document.createElement('div');
            widget.className = 'widget';

            if (data.error) {
                widget.innerHTML = `
                    <div class="widget-header">
                        <h3 class="widget-title">Writing Recommendations</h3>
                        <span class="widget-icon">‚úçÔ∏è</span>
                    </div>
                    <div class="widget-content">
                        <div class="error">${data.error}</div>
                    </div>
                `;
                return widget;
            }

            const topTopics = data.recommendations.slice(0, 3).map(rec => `
                <div class="news-item">
                    <div class="news-title">${rec.image} ${rec.title}</div>
                    <div class="news-meta">${rec.engagement} engagement ‚Ä¢ ${rec.readTime}</div>
                </div>
            `).join('');

            widget.innerHTML = `
                <div class="widget-header">
                    <h3 class="widget-title">Writing Recommendations</h3>
                    <span class="widget-icon">‚úçÔ∏è</span>
                </div>
                <div class="widget-content">
                    <div style="background-color: var(--bg-secondary); padding: 12px; border-radius: 8px; margin-bottom: 15px;">
                        <strong style="color: var(--accent-color);">Week of ${data.weekOf}</strong>
                        <div style="font-size: 0.9rem; color: var(--text-secondary); margin-top: 5px;">
                            ${data.trend}
                        </div>
                    </div>
                    ${topTopics}
                </div>
            `;

            // Add click handler
            widget.addEventListener('click', () => {
                showDetailView('Writing Recommendations', '‚úçÔ∏è', data, 'writing');
            });

            return widget;
        }



        function createTopVoicesWidget(data) {
            const widget = document.createElement('div');
            widget.className = 'widget';

            if (data.error) {
                widget.innerHTML = `
                    <div class="widget-header">
                        <h3 class="widget-title">Top Voices</h3>
                        <span class="widget-icon">üé§</span>
                    </div>
                    <div class="widget-content">
                        <div class="error">${data.error}</div>
                    </div>
                `;
                return widget;
            }

            const topVoices = data.voices.slice(0, 3).map(voice => `
                <div class="news-item">
                    <div class="news-title">${voice.avatar} ${voice.name} - ${voice.topPost}</div>
                    <div class="news-meta">${voice.engagement} ‚Ä¢ ${voice.trend}</div>
                </div>
            `).join('');

            widget.innerHTML = `
                <div class="widget-header">
                    <h3 class="widget-title">Top Voices in PM/Agile</h3>
                    <span class="widget-icon">üé§</span>
                </div>
                <div class="widget-content">
                    <div style="background-color: var(--bg-secondary); padding: 12px; border-radius: 8px; margin-bottom: 15px;">
                        <strong style="color: var(--accent-color);">Week of ${data.weekOf}</strong>
                        <div style="font-size: 0.9rem; color: var(--text-secondary); margin-top: 5px;">
                            ${data.trending}
                        </div>
                    </div>
                    ${topVoices}
                </div>
            `;

            widget.addEventListener('click', () => {
                showDetailView('Top Voices in PM/Agile', 'üé§', data, 'topvoices');
            });

            return widget;
        }

        function updateLastUpdated() {
            const now = new Date();
            state.lastUpdated = now;
            document.getElementById('lastUpdated').textContent =
                `Last updated: ${now.toLocaleString()}`;
        }

        // Detail View Functions
        function showDetailView(title, icon, data, type) {
            document.getElementById('detailViewTitleText').textContent = title;
            document.getElementById('detailViewIcon').textContent = icon;

            const contentContainer = document.getElementById('detailViewContent');
            contentContainer.innerHTML = '';

            if (type === 'news') {
                renderNewsDetails(data, contentContainer);
            } else if (type === 'sports') {
                renderSportsDetails(data, contentContainer, title);
            } else if (type === 'crypto') {
                renderCryptoDetails(data, contentContainer);
            } else if (type === 'writing') {
                renderWritingDetails(data, contentContainer);
            } else if (type === 'topvoices') {
                renderTopVoicesDetails(data, contentContainer);
            }

            document.getElementById('detailView').classList.add('active');
            window.scrollTo(0, 0);
        }

        function hideDetailView() {
            document.getElementById('detailView').classList.remove('active');
        }

        function renderNewsDetails(articles, container) {
            if (!articles || articles.length === 0) {
                container.innerHTML = '<div class="no-items">No articles available</div>';
                return;
            }

            articles.forEach(article => {
                const detailItem = document.createElement('div');
                detailItem.className = 'detail-item';

                detailItem.innerHTML = `
                    ${article.image ? `<div class="article-image">${article.image}</div>` : ''}
                    <div class="detail-item-header">
                        <h3 class="detail-item-title">${article.title}</h3>
                    </div>
                    <div class="detail-item-meta">
                        <span class="meta-badge">üì∞ ${article.source}</span>
                        <span class="meta-badge">‚úçÔ∏è ${article.author}</span>
                        <span class="meta-badge">üïê ${article.time}</span>
                        <span class="meta-badge">üìñ ${article.readTime}</span>
                        <span class="meta-badge" style="background-color: var(--accent-color); color: white;">${article.category}</span>
                    </div>
                    <div class="detail-item-summary">
                        <strong>Summary:</strong> ${article.summary}
                    </div>
                    <div class="detail-item-content">
                        ${article.content}
                    </div>
                `;

                container.appendChild(detailItem);
            });
        }

        function renderSportsDetails(data, container, sport) {
            if (sport === 'Soccer') {
                // Render recent matches
                if (data.recentMatches && data.recentMatches.length > 0) {
                    const recentSection = document.createElement('div');
                    recentSection.innerHTML = '<h3 class="section-title">‚öΩ Recent Matches</h3>';
                    container.appendChild(recentSection);

                    data.recentMatches.forEach(match => {
                        const matchItem = document.createElement('div');
                        matchItem.className = 'detail-item';

                        const winner = match.homeScore > match.awayScore ? match.homeTeam :
                                      match.awayScore > match.homeScore ? match.awayTeam : 'Draw';

                        matchItem.innerHTML = `
                            <div class="detail-item-header">
                                <h3 class="detail-item-title">${match.homeTeam} vs ${match.awayTeam}</h3>
                            </div>
                            <div class="detail-item-meta">
                                <span class="meta-badge">üèÜ ${match.league}</span>
                                <span class="meta-badge">üìä ${match.status}</span>
                                ${winner !== 'Draw' ? `<span class="meta-badge" style="background-color: var(--success-color); color: white;">Winner: ${winner}</span>` : '<span class="meta-badge">Draw</span>'}
                            </div>
                            <div class="stats-grid">
                                <div class="stat-box">
                                    <div class="stat-box-label">${match.homeTeam}</div>
                                    <div class="stat-box-value">${match.homeScore}</div>
                                </div>
                                <div class="stat-box">
                                    <div class="stat-box-label">${match.awayTeam}</div>
                                    <div class="stat-box-value">${match.awayScore}</div>
                                </div>
                                <div class="stat-box">
                                    <div class="stat-box-label">Total Goals</div>
                                    <div class="stat-box-value">${match.homeScore + match.awayScore}</div>
                                </div>
                                <div class="stat-box">
                                    <div class="stat-box-label">Margin</div>
                                    <div class="stat-box-value">${Math.abs(match.homeScore - match.awayScore)}</div>
                                </div>
                            </div>
                        `;
                        container.appendChild(matchItem);
                    });
                }

                // Render Premier League Standings
                if (data.premierLeagueStandings) {
                    const plSection = document.createElement('div');
                    plSection.innerHTML = '<h3 class="section-title">üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø Premier League Standings</h3>';
                    container.appendChild(plSection);

                    const plTable = document.createElement('table');
                    plTable.className = 'standings-table';
                    plTable.innerHTML = `
                        <thead>
                            <tr>
                                <th>Pos</th>
                                <th>Team</th>
                                <th>P</th>
                                <th>W</th>
                                <th>D</th>
                                <th>L</th>
                                <th>Pts</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${data.premierLeagueStandings.map(team => `
                                <tr class="${team.team === 'Manchester United' ? 'team-highlight' : ''}">
                                    <td><strong>${team.position}</strong></td>
                                    <td>${team.team}</td>
                                    <td>${team.played}</td>
                                    <td>${team.won}</td>
                                    <td>${team.drawn}</td>
                                    <td>${team.lost}</td>
                                    <td><strong>${team.points}</strong></td>
                                </tr>
                            `).join('')}
                        </tbody>
                    `;
                    container.appendChild(plTable);
                }

                // Render La Liga Standings
                if (data.laLigaStandings) {
                    const laLigaSection = document.createElement('div');
                    laLigaSection.innerHTML = '<h3 class="section-title">üá™üá∏ La Liga Standings</h3>';
                    container.appendChild(laLigaSection);

                    const laLigaTable = document.createElement('table');
                    laLigaTable.className = 'standings-table';
                    laLigaTable.innerHTML = `
                        <thead>
                            <tr>
                                <th>Pos</th>
                                <th>Team</th>
                                <th>P</th>
                                <th>W</th>
                                <th>D</th>
                                <th>L</th>
                                <th>Pts</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${data.laLigaStandings.map(team => `
                                <tr class="${team.team === 'Real Madrid' ? 'team-highlight' : ''}">
                                    <td><strong>${team.position}</strong></td>
                                    <td>${team.team}</td>
                                    <td>${team.played}</td>
                                    <td>${team.won}</td>
                                    <td>${team.drawn}</td>
                                    <td>${team.lost}</td>
                                    <td><strong>${team.points}</strong></td>
                                </tr>
                            `).join('')}
                        </tbody>
                    `;
                    container.appendChild(laLigaTable);
                }

                // Render Upcoming Fixtures
                if (data.upcomingFixtures) {
                    const fixturesSection = document.createElement('div');
                    fixturesSection.innerHTML = '<h3 class="section-title">üìÖ Upcoming Fixtures</h3>';
                    container.appendChild(fixturesSection);

                    data.upcomingFixtures.forEach(fixture => {
                        const fixtureCard = document.createElement('div');
                        fixtureCard.className = 'fixture-card';
                        fixtureCard.innerHTML = `
                            <div class="fixture-teams">
                                <span class="fixture-team">${fixture.homeTeam}</span>
                                <span class="fixture-vs">vs</span>
                                <span class="fixture-team">${fixture.awayTeam}</span>
                            </div>
                            <div class="fixture-time">
                                <div><strong>${fixture.date}</strong></div>
                                <div>${fixture.time}</div>
                                <div style="font-size: 0.8rem; margin-top: 3px;">${fixture.league}</div>
                            </div>
                        `;
                        container.appendChild(fixtureCard);
                    });
                }
            } else {
                // Basketball or other sports - render matches
                if (!data || data.length === 0) {
                    container.innerHTML = '<div class="no-items">No matches available</div>';
                    return;
                }

                data.forEach(match => {
                    const detailItem = document.createElement('div');
                    detailItem.className = 'detail-item';

                    const winner = match.homeScore > match.awayScore ? match.homeTeam :
                                  match.awayScore > match.homeScore ? match.awayTeam : 'Draw';

                    detailItem.innerHTML = `
                        <div class="detail-item-header">
                            <h3 class="detail-item-title">${match.homeTeam} vs ${match.awayTeam}</h3>
                        </div>
                        <div class="detail-item-meta">
                            <span class="meta-badge">üèÜ ${match.league}</span>
                            <span class="meta-badge">üìä ${match.status}</span>
                            ${winner !== 'Draw' ? `<span class="meta-badge" style="background-color: var(--success-color); color: white;">Winner: ${winner}</span>` : '<span class="meta-badge">Draw</span>'}
                        </div>
                        <div class="stats-grid">
                            <div class="stat-box">
                                <div class="stat-box-label">${match.homeTeam}</div>
                                <div class="stat-box-value">${match.homeScore}</div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-box-label">${match.awayTeam}</div>
                                <div class="stat-box-value">${match.awayScore}</div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-box-label">Total Points</div>
                                <div class="stat-box-value">${match.homeScore + match.awayScore}</div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-box-label">Margin</div>
                                <div class="stat-box-value">${Math.abs(match.homeScore - match.awayScore)}</div>
                            </div>
                        </div>
                    `;

                    container.appendChild(detailItem);
                });
            }
        }

        function renderCryptoDetails(coins, container) {
            if (!coins || coins.length === 0) {
                container.innerHTML = '<div class="no-items">No cryptocurrency data available</div>';
                return;
            }

            coins.forEach(coin => {
                const detailItem = document.createElement('div');
                detailItem.className = 'detail-item';

                const isPositive = coin.change >= 0;
                const changeColor = isPositive ? 'var(--success-color)' : 'var(--danger-color)';
                const changeIcon = isPositive ? 'üìà' : 'üìâ';

                detailItem.innerHTML = `
                    <div class="detail-item-header">
                        <h3 class="detail-item-title">${coin.name}</h3>
                    </div>
                    <div class="detail-item-meta">
                        <span class="meta-badge" style="background-color: ${changeColor}; color: white;">
                            ${changeIcon} ${isPositive ? '+' : ''}${coin.change.toFixed(2)}% (24h)
                        </span>
                        <span class="meta-badge">üí∞ Current Price</span>
                    </div>
                    <div class="stats-grid">
                        <div class="stat-box">
                            <div class="stat-box-label">Current Price (USD)</div>
                            <div class="stat-box-value">$${coin.price.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-box-label">24h Change</div>
                            <div class="stat-box-value" style="color: ${changeColor};">
                                ${isPositive ? '+' : ''}${coin.change.toFixed(2)}%
                            </div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-box-label">Price Movement</div>
                            <div class="stat-box-value">${isPositive ? '‚ÜóÔ∏è Up' : '‚ÜòÔ∏è Down'}</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-box-label">Market Trend</div>
                            <div class="stat-box-value">
                                ${Math.abs(coin.change) > 5 ? (isPositive ? 'üî• Hot' : '‚ùÑÔ∏è Cold') : '‚û°Ô∏è Stable'}
                            </div>
                        </div>
                    </div>
                    <div class="detail-item-content" style="margin-top: 20px;">
                        <p><strong>${coin.name}</strong> is currently trading at
                        <strong>$${coin.price.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</strong>,
                        showing a ${isPositive ? 'positive' : 'negative'} movement of
                        <strong style="color: ${changeColor};">${isPositive ? '+' : ''}${coin.change.toFixed(2)}%</strong>
                        over the last 24 hours.</p>

                        <p style="margin-top: 15px;">
                        ${Math.abs(coin.change) > 5 ?
                            `This represents ${isPositive ? 'significant gains' : 'notable losses'} and indicates ${isPositive ? 'strong buying pressure' : 'selling pressure'} in the market.` :
                            'The price movement suggests relative market stability with moderate trading activity.'}
                        </p>

                        ${coin.name === 'Bitcoin' ?
                            '<p style="margin-top: 15px;"><em>Bitcoin remains the largest cryptocurrency by market capitalization and is often considered a leading indicator for the broader crypto market.</em></p>' : ''}
                        ${coin.name === 'Stellar' || coin.name === 'Ripple' ?
                            '<p style="margin-top: 15px;"><em>This cryptocurrency focuses on facilitating fast, low-cost cross-border payments and is popular among financial institutions.</em></p>' : ''}
                    </div>
                `;

                container.appendChild(detailItem);
            });
        }

        function renderWritingDetails(data, container) {
            if (!data || !data.recommendations) {
                container.innerHTML = '<div class="no-items">No writing recommendations available</div>';
                return;
            }

            // Add trend overview
            const trendSection = document.createElement('div');
            trendSection.className = 'detail-item';
            trendSection.innerHTML = `
                <div class="detail-item-header">
                    <h3 class="detail-item-title">üìä This Week's Trend</h3>
                </div>
                <div class="detail-item-meta">
                    <span class="meta-badge">üìÖ Week of ${data.weekOf}</span>
                    <span class="meta-badge" style="background-color: var(--accent-color); color: white;">Hot Topics</span>
                </div>
                <div class="detail-item-content" style="margin-top: 15px;">
                    <p><strong>${data.trend}</strong></p>
                    <p style="margin-top: 15px; color: var(--text-secondary);">
                        Based on LinkedIn discussions, industry blogs, and current events, here are ${data.recommendations.length} topics
                        that will spark conversation and engagement this week.
                    </p>
                </div>
            `;
            container.appendChild(trendSection);

            // Add section title
            const sectionTitle = document.createElement('h3');
            sectionTitle.className = 'section-title';
            sectionTitle.textContent = 'üí° Recommended Topics to Write About';
            container.appendChild(sectionTitle);

            // Render each recommendation
            data.recommendations.forEach((rec, index) => {
                const recItem = document.createElement('div');
                recItem.className = 'detail-item';

                // Determine engagement color
                let engagementColor = 'var(--text-secondary)';
                if (rec.engagement.includes('Very High')) {
                    engagementColor = 'var(--success-color)';
                } else if (rec.engagement.includes('High')) {
                    engagementColor = 'var(--accent-color)';
                }

                recItem.innerHTML = `
                    <div class="article-image" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                        ${rec.image}
                    </div>
                    <div class="detail-item-header">
                        <h3 class="detail-item-title">${index + 1}. ${rec.title}</h3>
                    </div>
                    <div class="detail-item-meta">
                        <span class="meta-badge" style="background-color: ${engagementColor}; color: white;">
                            ${rec.engagement}
                        </span>
                        <span class="meta-badge">‚è±Ô∏è ${rec.readTime}</span>
                        <span class="meta-badge">üé≠ ${rec.tone}</span>
                    </div>

                    <div class="detail-item-content" style="margin-top: 20px;">
                        <div style="margin-bottom: 15px;">
                            <strong style="color: var(--accent-color);">Why This Topic?</strong>
                            <p style="margin-top: 8px;">${rec.rationale}</p>
                        </div>

                        <div style="margin-bottom: 15px;">
                            <strong style="color: var(--accent-color);">Your Angle</strong>
                            <p style="margin-top: 8px;">${rec.angle}</p>
                        </div>

                        <div style="background-color: var(--bg-secondary); padding: 15px; border-radius: 8px; border-left: 4px solid var(--accent-color);">
                            <strong>Suggested Tags:</strong>
                            <div style="margin-top: 8px; color: var(--accent-color);">${rec.linkedinTags}</div>
                        </div>
                    </div>
                `;

                container.appendChild(recItem);
            });

            // Add footer with writing tips
            const footerSection = document.createElement('div');
            footerSection.className = 'detail-item';
            footerSection.style.borderLeft = '4px solid var(--warning-color)';
            footerSection.innerHTML = `
                <div class="detail-item-header">
                    <h3 class="detail-item-title">üí≠ Your Writing Philosophy</h3>
                </div>
                <div class="detail-item-content">
                    <ul style="list-style-position: inside; line-height: 2;">
                        <li><strong>Be human, direct, and reflective</strong> - Write to spark conversation, not to preach</li>
                        <li><strong>Offer clear points</strong> - Share relatable examples from real experience</li>
                        <li><strong>Challenge assumptions</strong> - Focus on what doesn't work in practice</li>
                        <li><strong>Stay slightly ahead</strong> - Timely and relevant, but not reactive or generic</li>
                        <li><strong>Prioritize engagement</strong> - Choose topics that invite debate, reflection, or strong reactions on LinkedIn</li>
                    </ul>
                    <p style="margin-top: 20px; font-style: italic; color: var(--text-secondary);">
                        Remember: You're writing about real-world experience, not textbook theory.
                        Talk about what you've seen as a Project Owner, Project Manager, and leader inside complex organizations.
                    </p>
                </div>
            `;
            container.appendChild(footerSection);
        }


        function renderTopVoicesDetails(data, container) {
            if (!data || !data.voices) {
                container.innerHTML = '<div class="no-items">No top voices available</div>';
                return;
            }

            // Add trend overview
            const trendSection = document.createElement('div');
            trendSection.className = 'detail-item';
            trendSection.innerHTML = `
                <div class="detail-item-header">
                    <h3 class="detail-item-title">üî• This Week in PM/Agile</h3>
                </div>
                <div class="detail-item-meta">
                    <span class="meta-badge">üìÖ Week of ${data.weekOf}</span>
                    <span class="meta-badge" style="background-color: var(--accent-color); color: white;">Trending Now</span>
                </div>
                <div class="detail-item-content" style="margin-top: 15px;">
                    <p><strong>${data.trending}</strong></p>
                    <p style="margin-top: 15px; color: var(--text-secondary);">
                        These ${data.voices.length} thought leaders are driving the conversation this week with posts
                        that sparked massive engagement and debate.
                    </p>
                </div>
            `;
            container.appendChild(trendSection);

            // Add section title
            const sectionTitle = document.createElement('h3');
            sectionTitle.className = 'section-title';
            sectionTitle.textContent = 'üé§ Top Voices This Week';
            container.appendChild(sectionTitle);

            // Render each voice
            data.voices.forEach((voice, index) => {
                const voiceItem = document.createElement('div');
                voiceItem.className = 'detail-item';

                const trendColor = voice.trend.includes('Up') ? 'var(--success-color)' : 'var(--danger-color)';
                const trendIcon = voice.trend.includes('Up') ? 'üìà' : 'üìâ';

                voiceItem.innerHTML = `
                    <div class="article-image" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                        ${voice.avatar}
                    </div>
                    <div class="detail-item-header">
                        <h3 class="detail-item-title">${index + 1}. ${voice.name}</h3>
                        <a href="${voice.linkedIn}" target="_blank" class="detail-item-link">
                            View on LinkedIn ‚Üí
                        </a>
                    </div>
                    <div class="detail-item-meta">
                        <span class="meta-badge">${voice.title}</span>
                        <span class="meta-badge">üè¢ ${voice.company}</span>
                        <span class="meta-badge" style="background-color: ${trendColor}; color: white;">
                            ${trendIcon} ${voice.trend}
                        </span>
                    </div>

                    <div class="detail-item-content" style="margin-top: 20px;">
                        <div style="margin-bottom: 15px;">
                            <strong style="color: var(--accent-color);">Top Post This Week:</strong>
                            <p style="margin-top: 8px; font-size: 1.15rem; font-weight: 600;">"${voice.topPost}"</p>
                        </div>

                        <div style="margin-bottom: 15px;">
                            <strong style="color: var(--accent-color);">What They're Saying:</strong>
                            <p style="margin-top: 8px;">${voice.excerpt}</p>
                        </div>

                        <div style="margin-bottom: 15px;">
                            <strong style="color: var(--accent-color);">Engagement:</strong>
                            <p style="margin-top: 8px; color: var(--success-color); font-weight: 600;">${voice.engagement}</p>
                        </div>

                        <div style="background-color: var(--bg-secondary); padding: 15px; border-radius: 8px; border-left: 4px solid var(--accent-color);">
                            <strong>Topics:</strong>
                            <div style="margin-top: 8px; display: flex; gap: 10px; flex-wrap: wrap;">
                                ${voice.topics.map(topic => `<span class="meta-badge" style="background-color: var(--accent-color); color: white;">${topic}</span>`).join('')}
                            </div>
                        </div>
                    </div>
                `;

                container.appendChild(voiceItem);
            });

            // Add footer
            const footerSection = document.createElement('div');
            footerSection.className = 'detail-item';
            footerSection.style.borderLeft = '4px solid var(--accent-color)';
            footerSection.innerHTML = `
                <div class="detail-item-header">
                    <h3 class="detail-item-title">üí° Why Follow These Voices?</h3>
                </div>
                <div class="detail-item-content">
                    <p>These thought leaders consistently challenge conventional wisdom and share practical insights from real-world experience.</p>
                    <p style="margin-top: 15px;">Following them gives you:</p>
                    <ul style="list-style-position: inside; line-height: 2; margin-top: 10px;">
                        <li><strong>Fresh perspectives</strong> on PM, Agile, and product development</li>
                        <li><strong>Early warning signals</strong> about emerging trends and anti-patterns</li>
                        <li><strong>Conversation starters</strong> for your own content and discussions</li>
                        <li><strong>Network effects</strong> - engage with their posts to grow your reach</li>
                    </ul>
                    <p style="margin-top: 20px; font-style: italic; color: var(--text-secondary);">
                        Engagement numbers update weekly based on LinkedIn post interactions.
                    </p>
                </div>
            `;
            container.appendChild(footerSection);
        }

        // Start the application
        init();
    </script>
</body>
</html>